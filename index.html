<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeatSense: Python-Based Arrhythmia Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; 
        }
        .hero-gradient {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
        }
        .section-title {
            @apply text-3xl md:text-4xl font-extrabold text-gray-800 mb-3 text-center;
        }
        .section-subtitle {
            @apply text-lg text-gray-600 mb-12 text-center max-w-3xl mx-auto;
        }
        .card {
            @apply bg-white rounded-xl shadow-lg p-6 transition-transform transform hover:-translate-y-2 duration-300;
        }
        .team-member-card {
            @apply bg-white rounded-xl shadow-md p-6 text-center transition-all duration-300 hover:shadow-xl hover:scale-105;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid #3b82f6;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .phase-card::before {
            content: attr(data-phase);
            position: absolute;
            top: -1.5rem;
            left: -1.5rem;
            width: 3rem;
            height: 3rem;
            background-color: #dbeafe;
            color: #1e3a8a;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.125rem;
            border: 4px solid white;
        }
        /* ECG Chart Animation */
        .ecg-line {
            stroke-dasharray: 3000;
            stroke-dashoffset: 3000;
            animation: draw-ecg 2s ease-out forwards;
            animation-delay: 0.2s;
        }
        @keyframes draw-ecg {
            to {
                stroke-dashoffset: 0;
            }
        }
    </style>
</head>
<body class="text-gray-700">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-800">
                <span class="text-blue-600">Beat</span>Sense ðŸ©º
            </a>
            <div class="hidden md:flex space-x-8">
                <a href="#home" class="text-gray-600 hover:text-blue-600 transition font-medium">Home</a>
                <a href="#introduction" class="text-gray-600 hover:text-blue-600 transition font-medium">Introduction</a>
                <a href="#methodology" class="text-gray-600 hover:text-blue-600 transition font-medium">Methodology</a>
                <a href="#live-demo" class="text-gray-600 hover:text-blue-600 transition font-medium">Live Demo</a>
                <a href="#team" class="text-gray-600 hover:text-blue-600 transition font-medium">The Team</a>
            </div>
             <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-600 hover:text-blue-600 hover:bg-gray-100 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
             <a href="#home" class="block py-2 text-gray-600 hover:text-blue-600 transition font-medium">Home</a>
             <a href="#introduction" class="block py-2 text-gray-600 hover:text-blue-600 transition font-medium">Introduction</a>
             <a href="#methodology" class="block py-2 text-gray-600 hover:text-blue-600 transition font-medium">Methodology</a>
             <a href="#live-demo" class="block py-2 text-gray-600 hover:text-blue-600 transition font-medium">Live Demo</a>
             <a href="#team" class="block py-2 text-gray-600 hover:text-blue-600 transition font-medium">The Team</a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="home" class="hero-gradient text-white relative overflow-hidden">
             <div class="absolute inset-0 bg-black opacity-10"></div>
            <div class="container mx-auto px-6 py-24 md:py-32 text-center relative z-10">
                <h1 class="text-4xl md:text-6xl font-extrabold mb-4 leading-tight">BeatSense: Python-Based Arrhythmia Detection</h1>
                <p class="text-xl md:text-2xl mb-10 max-w-4xl mx-auto text-blue-100">
                    A software-based system for ECG signal processing to detect and classify cardiac arrhythmias using digital signal processing and machine learning.
                </p>
                <a href="#live-demo" class="bg-white text-blue-700 font-bold py-4 px-10 rounded-full text-lg hover:bg-blue-100 transition-all duration-300 transform hover:scale-105 shadow-2xl">
                    Try the Live Demo
                </a>
            </div>
        </section>

        <!-- Introduction Section -->
        <section id="introduction" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="section-title">Introduction</h2>
                <p class="section-subtitle">Understanding the challenge and our innovative solution.</p>
                <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-16 items-center">
                    <div class="space-y-6">
                         <div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-3 flex items-center gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                The Problem
                            </h3>
                            <p class="text-lg text-gray-600">Cardiovascular Diseases are the leading cause of death globally. Traditional ECG interpretation is slow, manual, and often inaccessible, delaying crucial diagnoses of arrhythmias and putting lives at risk.</p>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-3 flex items-center gap-3">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.375 3.375 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                                Our Solution: BeatSense
                            </h3>
                            <p class="text-lg text-gray-600">We developed <span class="font-bold text-blue-600">BeatSense</span>, an automated system that uses Python and machine learning to analyze ECG signals. It provides a fast, reliable, and cost-effective way to detect and classify arrhythmias like Bradycardia and Tachycardia, making early detection more accessible.</p>
                        </div>
                    </div>
                     <div class="bg-gray-100 p-8 rounded-2xl shadow-inner">
                        <img src="https://i.imgur.com/8Q9Z3cr.png" alt="BeatSense Research Framework Flowchart" class="mx-auto rounded-lg shadow-lg">
                        <p class="text-center text-sm text-gray-500 mt-4">The Proposed Research Framework</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Methodology Section -->
        <section id="methodology" class="py-24 bg-gray-50">
            <div class="container mx-auto px-6">
                <h2 class="section-title">Our Methodology</h2>
                <p class="section-subtitle">
                    A quantitative, developmental research design structured into six key phases to build and validate the BeatSense system.
                </p>
                <div class="max-w-6xl mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-16">
                    <!-- Phase 1 -->
                    <div class="relative card !p-8 pt-10" data-phase="1">
                        <h4 class="font-bold text-xl text-gray-800 mb-2">Data Acquisition</h4>
                        <p>ECG recordings are sourced from the MIT-BIH Arrhythmia Database, a standardized and annotated public dataset.</p>
                    </div>
                    <!-- Phase 2 -->
                    <div class="relative card !p-8 pt-10" data-phase="2">
                        <h4 class="font-bold text-xl text-gray-800 mb-2">Preprocessing</h4>
                        <p>Digital filters are applied to remove noise (baseline wander, etc.) and segment signals into analyzable heartbeats.</p>
                    </div>
                    <!-- Phase 3 -->
                    <div class="relative card !p-8 pt-10" data-phase="3">
                        <h4 class="font-bold text-xl text-gray-800 mb-2">Feature Extraction</h4>
                        <p>The system identifies R-peaks, calculates RR intervals, and analyzes waveform morphology to define the heart's rhythm.</p>
                    </div>
                    <!-- Phase 4 -->
                    <div class="relative card !p-8 pt-10" data-phase="4">
                        <h4 class="font-bold text-xl text-gray-800 mb-2">Classification</h4>
                        <p>Machine learning algorithms classify heartbeats as normal or arrhythmic (Bradycardia, Tachycardia).</p>
                    </div>
                    <!-- Phase 5 -->
                    <div class="relative card !p-8 pt-10" data-phase="5">
                        <h4 class="font-bold text-xl text-gray-800 mb-2">Program Implementation</h4>
                        <p>Built in Python using libraries like NumPy, SciPy for signal processing, and Scikit-learn for machine learning.</p>
                    </div>
                    <!-- Phase 6 -->
                    <div class="relative card !p-8 pt-10" data-phase="6">
                        <h4 class="font-bold text-xl text-gray-800 mb-2">Performance Evaluation</h4>
                        <p>Effectiveness is validated quantitatively using accuracy, precision, and other metrics against database annotations.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Live Demo Section -->
        <section id="live-demo" class="py-24 bg-blue-50">
            <div class="container mx-auto px-6">
                <h2 class="section-title">Live Analysis Demo</h2>
                <p class="section-subtitle">
                    Select a record from the MIT-BIH Arrhythmia Database to simulate the BeatSense analysis pipeline.
                </p>
                <div class="max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-200">
                    <div class="mb-6">
                        <label for="ecg-record-select" class="block text-lg font-medium text-gray-700 mb-2">Choose a record from the MIT-BIH dataset:</label>
                        <select id="ecg-record-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3">
                            <option selected value="">Select a Record...</option>
                            <option value="100">Record 100</option>
                            <option value="101">Record 101</option>
                            <option value="102">Record 102</option>
                            <option value="103">Record 103</option>
                            <option value="104">Record 104</option>
                            <option value="105">Record 105</option>
                            <option value="106">Record 106</option>
                            <option value="107">Record 107</option>
                            <option value="108">Record 108</option>
                            <option value="109">Record 109</option>
                            <option value="111">Record 111</option>
                            <option value="112">Record 112</option>
                            <option value="113">Record 113</option>
                            <option value="114">Record 114</option>
                            <option value="115">Record 115</option>
                            <option value="116">Record 116</option>
                            <option value="117">Record 117</option>
                            <option value="118">Record 118</option>
                            <option value="119">Record 119</option>
                            <option value="121">Record 121</option>
                            <option value="122">Record 122</option>
                            <option value="123">Record 123</option>
                            <option value="124">Record 124</option>
                            <option value="200">Record 200</option>
                            <option value="201">Record 201</option>
                            <option value="202">Record 202</option>
                            <option value="203">Record 203</option>
                            <option value="205">Record 205</option>
                            <option value="207">Record 207</option>
                            <option value="208">Record 208</option>
                            <option value="209">Record 209</option>
                            <option value="210">Record 210</option>
                            <option value="212">Record 212</option>
                            <option value="213">Record 213</option>
                            <option value="214">Record 214</option>
                            <option value="215">Record 215</option>
                            <option value="217">Record 217</option>
                            <option value="219">Record 219</option>
                            <option value="220">Record 220</option>
                            <option value="221">Record 221</option>
                            <option value="222">Record 222</option>
                            <option value="223">Record 223</option>
                            <option value="228">Record 228</option>
                            <option value="230">Record 230</option>
                            <option value="231">Record 231</option>
                            <option value="232">Record 232</option>
                            <option value="233">Record 233</option>
                            <option value="234">Record 234</option>
                        </select>
                    </div>
                    <button id="analyze-button" class="w-full bg-blue-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                        Analyze ECG Signal
                    </button>
                </div>
                <!-- Results Area -->
                <div id="results-area" class="max-w-4xl mx-auto mt-12 hidden">
                    <div id="loader-container" class="text-center">
                        <div class="loader mx-auto"></div>
                        <p class="text-lg text-gray-600 mt-4 font-semibold">Analyzing signal... Please wait.</p>
                    </div>
                    <div id="report-container" class="hidden">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">Analysis Complete: Results</h3>
                        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200 overflow-hidden">
                           <div id="chart-container" class="bg-white rounded-lg shadow-md mb-8 w-full overflow-hidden">
                                <!-- SVG Chart will be injected here -->
                           </div>
                            <div class="grid md:grid-cols-2 gap-8 items-center">
                                <!-- Left Side: Data -->
                                <div class="space-y-4">
                                    <div class="pb-3 border-b border-gray-200">
                                        <p class="text-sm text-gray-500">Input File</p>
                                        <p id="result-file-name" class="font-bold text-lg text-gray-800"><code class="bg-gray-100 text-gray-700 px-2 py-1 rounded-md"></code></p>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <p class="text-sm text-gray-500">Heart Rate</p>
                                            <p id="result-bpm" class="font-bold text-xl"></p>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-500">Rhythm</p>
                                            <p id="result-rhythm" class="font-bold text-xl"></p>
                                        </div>
                                    </div>
                                    <div>
                                        <p class="text-sm text-gray-500">Classification</p>
                                        <p id="result-classification" class="font-bold text-lg text-gray-800"></p>
                                    </div>
                                </div>
                                <!-- Right Side: Recommendation -->
                                <div id="result-recommendation" class="p-6 rounded-xl text-center">
                                    <svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    <h4 id="recommendation-title" class="text-xl font-bold"></h4>
                                    <p id="recommendation-text" class="mt-2"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- The Team Section -->
        <section id="team" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="section-title">The Research Team</h2>
                <p class="section-subtitle">Meet the minds behind the BeatSense project, dedicated to advancing cardiovascular health through technology.</p>
                <div class="max-w-5xl mx-auto">
                    <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                        <div class="team-member-card">
                            <div class="w-24 h-24 rounded-full mx-auto mb-4 bg-gray-200 flex items-center justify-center">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">Shena Marie Espelita</h3>
                            <p class="text-blue-600 font-medium">Project Researcher</p>
                        </div>
                        <div class="team-member-card">
                             <div class="w-24 h-24 rounded-full mx-auto mb-4 bg-gray-200 flex items-center justify-center">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">Jashley Mae Alcances</h3>
                            <p class="text-blue-600 font-medium">Project Researcher</p>
                        </div>
                        <div class="team-member-card">
                             <div class="w-24 h-24 rounded-full mx-auto mb-4 bg-gray-200 flex items-center justify-center">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">Ylona Leigh Balahadia</h3>
                            <p class="text-blue-600 font-medium">Project Researcher</p>
                        </div>
                         <div class="team-member-card">
                             <div class="w-24 h-24 rounded-full mx-auto mb-4 bg-gray-200 flex items-center justify-center">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">Mhekyla D. Ramirez</h3>
                            <p class="text-blue-600 font-medium">Project Researcher</p>
                        </div>
                    </div>
                    <div class="text-center">
                         <div class="inline-block team-member-card !px-10">
                            <div class="w-24 h-24 rounded-full mx-auto mb-4 bg-green-100 flex items-center justify-center">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004c-.03.001-.06.003-.09.005l-.07.004z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">Dr. Abid Yaya</h3>
                            <p class="text-green-700 font-semibold">Faculty Advisor</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-10 text-center">
            <h3 class="text-2xl font-bold"><span class="text-blue-400">Beat</span>Sense</h3>
            <p class="mt-2 text-gray-400">Advancing cardiac health through signal processing.</p>
            <div class="mt-6">
                 <p class="text-gray-500 text-sm">Copyright &copy; 2025 - The BeatSense Project Team</p>
            </div>
        </div>
    </footer>
    
    <script>
        // DOM Elements
        const recordSelect = document.getElementById('ecg-record-select');
        const analyzeButton = document.getElementById('analyze-button');
        const resultsArea = document.getElementById('results-area');
        const loaderContainer = document.getElementById('loader-container');
        const reportContainer = document.getElementById('report-container');
        const chartContainer = document.getElementById('chart-container');

        // Result Fields
        const resultFileName = document.getElementById('result-file-name').querySelector('code');
        const resultBpm = document.getElementById('result-bpm');
        const resultRhythm = document.getElementById('result-rhythm');
        const resultClassification = document.getElementById('result-classification');
        const resultRecommendation = document.getElementById('result-recommendation');
        const recommendationTitle = document.getElementById('recommendation-title');
        const recommendationText = document.getElementById('recommendation-text');
        
        // --- Event Listeners ---
        
        recordSelect.addEventListener('change', () => {
            if (recordSelect.value) {
                analyzeButton.disabled = false;
            } else {
                analyzeButton.disabled = true;
            }
        });

        function generateEcgChart() {
            const chartSVG = `
                <svg viewBox="0 0 800 300" class="w-full h-auto" preserveAspectRatio="xMidYMid meet">
                    <defs>
                        <pattern id="grid-minor" width="10" height="10" patternUnits="userSpaceOnUse">
                            <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#fecaca" stroke-width="0.5"/>
                        </pattern>
                        <pattern id="grid-major" width="50" height="50" patternUnits="userSpaceOnUse">
                            <rect width="50" height="50" fill="url(#grid-minor)"/>
                            <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#fca5a5" stroke-width="1"/>
                        </pattern>
                    </defs>
                    <rect width="100%" height="100%" fill="#fff7f7" />
                    <rect width="100%" height="100%" fill="url(#grid-major)" />
                    <path class="ecg-line" fill="none" stroke="#ef4444" stroke-width="2.5" d="M0,150 l20,0 q5,-20 10,0 t10,0 l5,10 l8,-50 l8,100 l8,-55 q10,15 20,0 t20,0 l50,0 q5,-20 10,0 t10,0 l5,10 l8,-50 l8,100 l8,-55 q10,15 20,0 t20,0 l50,0 q5,-20 10,0 t10,0 l5,10 l8,-50 l8,100 l8,-55 q10,15 20,0 t20,0 l50,0 q5,-20 10,0 t10,0 l5,10 l8,-50 l8,100 l8,-55 q10,15 20,0 t20,0 l50,0 q5,-20 10,0 t10,0 l5,10 l8,-50 l8,100 l8,-55 q10,15 20,0 t20,0 l50,0 l21,0"/>
                </svg>
            `;
            chartContainer.innerHTML = chartSVG;
        }

        analyzeButton.addEventListener('click', () => {
            // 1. Show the results area and loader
            resultsArea.classList.remove('hidden');
            loaderContainer.classList.remove('hidden');
            reportContainer.classList.add('hidden');
            
            // Scroll to results
            resultsArea.scrollIntoView({ behavior: 'smooth' });

            // 2. Simulate analysis with a timeout
            setTimeout(() => {
                // Generate the chart
                generateEcgChart();

                // 3. Generate random but realistic data for the demo
                const recordName = recordSelect.value;
                const fileName = `${recordName}.mat`;
                const randomCase = Math.random();
                let bpm, rhythm, classification, recTitle, recText, recColorClass, recTextColorClass;

                if (randomCase < 0.33) { // Tachycardia
                    bpm = (Math.random() * 40 + 101).toFixed(1);
                    rhythm = "Irregular";
                    classification = "Tachycardia";
                    recTitle = "Recommendation";
                    recText = "The analysis indicates a significant arrhythmia. It is strongly recommended to refer the case to a cardiologist for further evaluation.";
                    recColorClass = 'bg-red-50 border-l-4 border-red-500';
                    recTextColorClass = 'text-red-900';
                    resultBpm.className = 'font-bold text-xl text-red-600';
                    resultRhythm.className = 'font-bold text-xl text-red-600';
                } else if (randomCase < 0.66) { // Bradycardia
                    bpm = (Math.random() * 15 + 45).toFixed(1);
                    rhythm = "Regular";
                    classification = "Bradycardia";
                    recTitle = "Recommendation";
                    recText = "The heart rate is slower than normal. A consultation with a healthcare provider is recommended to rule out any underlying issues.";
                    recColorClass = 'bg-yellow-50 border-l-4 border-yellow-500';
                    recTextColorClass = 'text-yellow-900';
                    resultBpm.className = 'font-bold text-xl text-yellow-600';
                    resultRhythm.className = 'font-bold text-xl text-yellow-600';
                } else { // Normal
                    bpm = (Math.random() * 40 + 60).toFixed(1);
                    rhythm = "Regular";
                    classification = "Normal Sinus Rhythm";
                    recTitle = "All Clear";
                    recText = "The analysis indicates a normal heart rhythm within the expected range. No immediate concerns detected.";
                    recColorClass = 'bg-green-50 border-l-4 border-green-500';
                    recTextColorClass = 'text-green-900';
                    resultBpm.className = 'font-bold text-xl text-green-600';
                    resultRhythm.className = 'font-bold text-xl text-green-600';
                }
                
                // 4. Populate the report
                resultFileName.textContent = fileName;
                resultBpm.innerHTML = `${bpm} <span class="text-base font-normal text-gray-600">bpm</span>`;
                resultRhythm.textContent = rhythm;
                resultClassification.textContent = classification;
                recommendationTitle.textContent = recTitle;
                recommendationText.textContent = recText;
                
                // Apply recommendation styling
                resultRecommendation.className = `p-6 rounded-xl text-center ${recColorClass}`;
                recommendationTitle.className = `text-xl font-bold ${recTextColorClass}`;
                recommendationText.className = `mt-2 ${recTextColorClass.replace('900', '800')}`;
                resultRecommendation.querySelector('svg').className = `w-16 h-16 mx-auto mb-4 ${recTextColorClass.replace('900', '500')}`;


                // 5. Hide loader and show report
                loaderContainer.classList.add('hidden');
                reportContainer.classList.remove('hidden');

            }, 2500); // Simulate a 2.5-second analysis time
        });

        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                mobileMenu.classList.add('hidden'); // Close mobile menu on click
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>

